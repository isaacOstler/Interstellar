	
 onload="window.$ = window.jQuery = module.exports;"></script>
<style type="text/css">
	body{
		font-size: 26px;
	}
	.menuLink{
		cursor: pointer;
		height: 35px;
		padding-left: 20px;
		opacity: .9;
		background-color:grey;
	}

	.menuLink:hover{
		height: 35px;
		padding-left: 20px;
		opacity: .5;
		background-color:grey;
	}
	#topMenu{
		position: absolute;
		width:17%;
		background-color:rgb(253,193,59);
		height: 15%;
		top:8%;
		z-index: 3;
		left:2.5%;
		border-radius: 0px 20px 0px 0px;
	}
	.verticalBeam{
		position: absolute;
		right: 1.5%;
		height: 100%;
		background-color: black;
		width: 17%;
	}
	#middleMenu{
		position: absolute;
		width:17%;
		background-color:rgb(151,154,251);
		height: 40%;
		top:24%;
		z-index: 3;
		left:2.5%;
	}
	#bottomMenu{
		position: absolute;
		width:17%;
		background-color:rgb(203,154,205);
		height: 20%;
		top:65%;
		z-index: 3;
		left:2.5%;
	}
	#alertStatus{
		padding-top: 5px;
		text-align: center;
		position: absolute;
		width:17%;
		background-color:rgb(253,193,59);
		border-radius: 0px 0px 20px 0px;
		height: 5%;
		top:86%;
		z-index: 3;
		left:2.5%;
	}
	a{
		color:white;
		text-decoration: none;
	}
	.noselect {
		-webkit-user-select: none;
		-khtml-user-select: none;
		-moz-user-select: -moz-none;
		-o-user-select: none;
		user-select: none;
	}

	#topBar{
		border-image-source: url('/resource?path=/public/topbar.png&screen=menu');
		border-image-slice: fill 57 130 57 140;
		border-image-width: 2em;
		font-size: 30px;
		height: 27px;
		position: absolute;
		width:95%;
		left:2.5%;
		z-index: 2;
	}
	#bottomBar{
		border-image-source: url('/resource?path=public/topbar.png&screen=menu');
		border-image-slice: fill 57 130 57 140;
		border-image-width: 2em;
		font-size: 30px;
		height: 27px;
		position: absolute;
		width:95%;
		left:2.5%;
		z-index: 2;
		bottom: 2.5%;
	}
</style>
<div id="menu">


	<div id="topBar"><div style="background-color:black; position:absolute; padding-left: 10px;padding-right: 10px;top:-3px;height:50px;left:129px;"><center><span id="stationName">USS VOYAGER</span></center></div></div>
	<div id="bottomBar"></div>

	<div id = "topMenu">
		<center>MENU</center>
		<div style="height: 2px;background-color:black"></div>

		<% for(var i=0; i<screens.length; i++) {%>
		<% if(screens[i].toUpperCase() == "LOGIN" || screens[i].toUpperCase() == "OFFICER LOG" || screens[i].toUpperCase() == "OFFICERS-LOG"){ %>
		<a href="/card?card=<%= screens[i] %>"><div class="menuLink beepOnClick"><%= screens[i].toUpperCase() %></div></a>
		<% } %>
		<% } %>
		<div style="height: 2px;background-color:black"></div>


	</div><div id = "middleMenu">
	<div style="height: 10px"></div>
	<div style="height: 2px;background-color:black"></div>
	<% for(var i=0; i<screens.length; i++) {%>
	<% if(screens[i].toUpperCase() != "OFFICERS-LOG" && screens[i].toUpperCase() != "LOGIN" && screens[i].toUpperCase() != "OFFICER LOG" && screens[i].toUpperCase() != "MESSAGING"){%>
	<a href="/card?card=<%= screens[i] %>"><div class="menuLink beepOnClick"><%= screens[i].toUpperCase() %></div></a>
	<% } %>
	<% } %>
	<div style="height: 2px;background-color:black"></div>

</div><div id = "bottomMenu">
<div style="height: 10px"></div>
<div style="height: 2px;background-color:black"></div>
<% for(var i=0; i<screens.length; i++) {%>
<% if(screens[i].toUpperCase() == "MESSAGING"){%>
<a href="/card?card=<%= screens[i] %>"><div class="menuLink beepOnClick"><%= screens[i].toUpperCase() %></div></a>
<% } %>
<% } %>
<div style="height: 2px;background-color:black"></div>

</div>
<div id="alertStatus">
	ALERT STATUS: 5
</div>
</div>
<script type="text/javascript">
	var redAlertInverseCContainer = "url('/resource?path=/public/inverse_c_container_red.png')";
	var yellowAlertinverseCContainer = "url('/resource?path=/public/inverse_c_container_yellow.png')";
	var inverseCContainer = "url('/resource?path=/public/inverse_c_container_red.png')";
	var redAlertCContainer = "url('/resource?path=/public/c_container_red.png')";
	var yellowAlertCContainer = "url('/resource?path=/public/c_container_yellow.png')";
	var CContainer = "url('/resource?path=/public/c_container_red.png')";
	var normalTopBar = "url('/resource?path=/public/topbar.png&screen=menu')";
	var yellowTopBar = "url('/resource?path=/public/topbarYellow.png&screen=menu')";
	var redAlertTopBar = "url('/resource?path=/public/topbarRed.png&screen=menu')";
	var menuTopColor = "rgb(253,193,59)";
	var menuMiddleColor = "rgb(151,154,251)";
	var menuBottomColor = "rgb(203,154,205)";
	var menuTopColorRedAlert = "rgb(251,13,27)";
	var menuMiddleColorRedAlert = "rgb(251,75,77)";
	var menuBottomColorRedAlert = "rgb(251,137,139)";
	var normalTopCurveBackgroundColor = "rgb(151,154,251)";
	var redAlertTopCurveBackgroundColor = "rgb(251,13,32)";
	document.getElementById("stationName").innerHTML = getStation().toUpperCase();
	onDatabaseValueChange("ship.alertStatus",function(newData){
		document.getElementById("alertStatus").innerHTML = "ALERT STATUS: " + newData;
		if(newData == 1){
			$("#bottomMenu").css("background-color",menuBottomColorRedAlert);
			$("#middleMenu").css("background-color",menuMiddleColorRedAlert);
			$("#topMenu").css("background-color",menuTopColorRedAlert);
			$("#topBar").css("border-image-source",redAlertTopBar);
			$("#bottomBar").css("border-image-source",redAlertTopBar);
			$(".inverse_c_container").css("border-image-source",redAlertInverseCContainer);
			$("#alertStatus").css("background-color",menuTopColorRedAlert);
			$(".topCurve").css("background-color",redAlertTopCurveBackgroundColor);
			$(".bottomCurve").css("background-color",redAlertTopCurveBackgroundColor);
		}else if(newData == 3){
			$("#bottomMenu").css("background-color",menuBottomColor);
			$("#middleMenu").css("background-color",menuMiddleColor);
			$("#topMenu").css("background-color",menuTopColor);
			$("#alertStatus").css("background-color",menuTopColor);
			$("#topBar").css("border-image-source",yellowTopBar);
			$("#bottomBar").css("border-image-source",yellowTopBar);
			$(".Container1").css("background-color",menuTopColorRedAlert);
			$(".topCurve").css("background-color",normalTopCurveBackgroundColor);
			$(".bottomCurve").css("background-color",normalTopCurveBackgroundColor);
			$(".inverse_c_container").css("border-image-source",yellowAlertinverseCContainer);
		}else{
			$(".inverse_c_container").css("border-image-source",inverseCContainer);
			$("#bottomMenu").css("background-color",menuBottomColor);
			$("#middleMenu").css("background-color",menuMiddleColor);
			$("#topMenu").css("background-color",menuTopColor);
			$("#alertStatus").css("background-color",menuTopColor);
			$("#topBar").css("border-image-source",normalTopBar);
			$("#bottomBar").css("border-image-source",normalTopBar);
			$(".Container1").css("background-color",menuTopColorRedAlert);
			$(".topCurve").css("background-color",normalTopCurveBackgroundColor);
			$(".bottomCurve").css("background-color",normalTopCurveBackgroundColor);
		}
	});
	window.onbeforeunload = function(){
  		clearDatabaseListners();
	}
</script>